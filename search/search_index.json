{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Profile-Run_upto_quants","text":""},{"location":"#overview-of-the-workflow","title":"Overview of the workflow","text":"<p>This RNAseq workflow, based on Nextflow, performs a series of tasks to analyze transcript abundances, identify variants, and perform quality control. It includes  read trimming, paired-end alignment using STAR, quantification of transcript abundances, fusion calling, variant analysis using GATK, and annotation using Annovar.  </p>"},{"location":"#prerequisites","title":"Prerequisites","text":"<p>To run this workflow, you will need the following software: <pre><code>    Nextflow &gt;= 21.04.3\n    Singularity 3.10.5\n    Graphviz 2.40\n</code></pre></p>"},{"location":"#installation","title":"Installation","text":"<p>Please clone this repository to your local filesystem using the following command:</p> <pre><code>        git clone https://github.com/CCRGeneticsBranch/AWS_POC_Nextflow.git\n        cd AWS_POC_Nextflow/ \n        git checkout feature/casename\n</code></pre>"},{"location":"#setting-up-the-workflow-on-biowulf","title":"Setting up the workflow on biowulf","text":"<ol> <li>The workflow is hosted on biowulf in khanlab space /data/khanlab/projects/Nextflow_dev/AWS_POC_Nextflow.</li> <li>All the pipeline config can be accessed using nextflow.config file. The workflow config is currently set up to work with Biowulf batch resources.</li> <li>For initial testing purposes we suggest running the workflow with outdir pointed to /data/khanlab2/NF_benchmarking. If needed, modify the path for the  <code>export OUTDIR</code> variable in the script <code>nf.sh</code> </li> </ol>"},{"location":"#running-the-workflow","title":"Running the workflow.","text":"<p>The workflow can be started by executing the <code>launch.sh</code> script in a interactive node. This wrapper script spawns new jobs and submits them to the SLURM  scheduling system.</p> <pre><code>       sh launch.sh tag /path/to/samplesheet        \n       This script takes two inputs\n       Provide Tag argument - This will add a tag to your resultsdir.\n       Provide samplesheet with complete path\n       example: sh launch.sh projectname /path/to/samplesheet  #this will create work.projectname and results.projectname folders under `OUTDIR` path.\n</code></pre>"},{"location":"#case1","title":"Case1:","text":"<p>Test samplesheet with subsamples is available here <code>/data/khanlab/projects/Nextflow_dev/testing/exome-rnaseq_samplesheet.csv</code></p>"},{"location":"#case2","title":"Case2:","text":"<p>Test samplesheet with 20 samples is available here <code>/data/khanlab/projects/Nextflow_dev/testing/20_samplesheet.csv</code></p> <p>To ensure you dont run into permission issues please run the #Case1 before launching full samples with #Case2</p> <p>The following command should kick initiate the pipeline and display the status.</p> <p><code>sh launch.sh vg0416 /data/khanlab/projects/Nextflow_dev/testing/exome-rnaseq_samplesheet.csv</code>                                                 or  <code>sbatch --mem=50g --time=24:00:00 sh launch vg0416 /data/khanlab/projects/Nextflow_dev/testing/exome-rnaseq_samplesheet.csv</code></p>"},{"location":"#workflow-log","title":"Workflow log","text":"<p>When the workflow is launched, it will produce a log that provides information about the pipeline execution, including the command line used, the version of Nextflow, the input folder path, the results directory, and the work directory.</p> <pre><code>[gangalapudiv2@cn4305 AWS_POC_Nextflow]$ ./launch.sh vg0416\n[+] Loading singularity  3.10.5  on cn4305 \n[+] Loading java 17.0.3.1  ... \n[+] Loading nextflow  23.04.1 \n[+] Loading Graphviz v 2.46.1  ... \nNXF_HOME=/data/khanlab2/NF_benchmarking/results.vg0416/.nextflow\nnextflow run -c /vf/users/khanlab/projects/Nextflow_dev/AWS_POC_Nextflow/nextflow.config -profile biowulf_test_run_slurm \n/vf/users/khanlab/projects/Nextflow_dev/AWS_POC_Nextflow/main.nf -resume -with-trace -with-timeline\nN E X T F L O W  ~  version 23.04.1\nLaunching `/vf/users/khanlab/projects/Nextflow_dev/AWS_POC_Nextflow/main.nf` [gigantic_moriondo] DSL2 - revision: 47347c03a7\nR N A S E Q - N F   P I P E L I N E  \n===================================\nNF version   : 23.04.1\nrunName      : gigantic_moriondo\nusername     : gangalapudiv2\nconfigs      : [/vf/users/khanlab/projects/Nextflow_dev/AWS_POC_Nextflow/nextflow.config, \n/vf/users/khanlab/projects/Nextflow_dev/AWS_POC_Nextflow/nextflow.config]\nprofile      : biowulf_test_run_slurm\ncmd line     : nextflow run -c /vf/users/khanlab/projects/Nextflow_dev/AWS_POC_Nextflow/nextflow.config -profile biowulf_test_run_slurm \n/vf/users/khanlab/projects/Nextflow_dev/AWS_POC_Nextflow/main.nf -resume -with-trace -with-timeline\nstart time   : 2023-07-14T08:38:30.805092321-04:00\nprojectDir   : /vf/users/khanlab/projects/Nextflow_dev/AWS_POC_Nextflow\nlaunchDir    : /gpfs/gsfs10/users/khanlab2/NF_benchmarking/results.vg0416\nworkdDir     : /data/khanlab2/NF_benchmarking/work.vg0416\nhomeDir      : /home/gangalapudiv2\n[bc/d5f459] process &gt; RNAseq_multiple_libs:Common_RNAseq_WF:Cutadapt (Test1c_R_T)                           [100%] 2 of 2, cached: 2 \u2714\n[19/393899] process &gt; RNAseq_multiple_libs:Common_RNAseq_WF:Kraken (Test1_R_T)                              [100%] 2 of 2, cached: 2 \u2714\n[a8/5dba33] process &gt; RNAseq_multiple_libs:Common_RNAseq_WF:Krona (Test1c_R_T)                              [100%] 2 of 2, cached: 2 \u2714\n[a1/839bd7] process &gt; RNAseq_multiple_libs:Common_RNAseq_WF:Fastqc (Test1c_R_T)                             [100%] 2 of 2, cached: 2 \u2714\n[6b/05eb55] process &gt; RNAseq_multiple_libs:Common_RNAseq_WF:Star_RSEM:Star (Test1_R_T)                      [100%] 2 of 2, cached: 2 \u2714\n[ad/fe60ba] process &gt; RNAseq_multiple_libs:Common_RNAseq_WF:Star_RSEM:Strandedness (Test1_R_T)              [100%] 2 of 2, cached: 2 \u2714\n[d5/1866a1] process &gt; RNAseq_multiple_libs:Common_RNAseq_WF:Star_RSEM:Rsem (Test1_R_T)                      [100%] 2 of 2, cached: 2 \u2714\n[70/0bb5d2] process &gt; RNAseq_multiple_libs:Common_RNAseq_WF:Fusion_calling:Arriba (Test1c_R_T)              [100%] 2 of 2, cached: 2 \u2714\n</code></pre>"},{"location":"#workflow-resources","title":"Workflow Resources","text":"<p>$Script_home ---&gt; data/khanlab/projects/Nextflow_dev/AWS_POC_Nextflow $Script_home/nextflow.config ---&gt; All the pipeline config  resources are called from this file. We are using <code>biowulf_test_run_slurm</code> profile to run the samples on biowulf. $Script_home/config ---&gt; Cluster config, singularity config, docker config and params config are located here</p>"}]}